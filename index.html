<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LocalLink Market – secure local + online marketplace with escrow, feedback, and loyalty points.">
    <meta name="theme-color" content="#8c5ff8">
    <title>LocalLink Market</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="assets/icons/icon-192.png">
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <div class="app-shell">
        <header class="hero">
            <div>
                <h1>LocalLink Market</h1>
                <p>Buy and sell with confidence. Run local pickups, ship anywhere, or offer both from one secure hub with loyalty boosts for every safe trade.</p>
                <div class="hero-actions">
                    <button class="btn btn-primary" onclick="document.getElementById('listItemForm').scrollIntoView({behavior: 'smooth'});">List an item</button>
                    <button class="btn btn-secondary" onclick="document.getElementById('marketSection').scrollIntoView({behavior: 'smooth'});">Browse deals</button>
                </div>
                <small class="tag">Demo login → demo@locallink.app / demo1234</small>
            </div>
            <div class="hero-stats">
                <div class="listing-card" style="gap:0.5rem;">
                    <span class="status-chip status-local">Local ready</span>
                    <strong style="font-size:2.5rem;">19</strong>
                    <small>verified pickup listings within 15 miles</small>
                </div>
                <div class="listing-card" style="gap:0.5rem;">
                    <span class="status-chip status-online">Ship now</span>
                    <strong style="font-size:2.5rem;">32</strong>
                    <small>online-only items shipping in &lt;24h</small>
                </div>
            </div>
        </header>

        <main class="layout-grid">
            <section class="panel span-2">
                <div class="panel-header">
                    <h2>Quick account start</h2>
                    <span class="tag">Secure signup</span>
                </div>
                <div id="authForms" class="stack" style="gap:1.5rem;">
                    <form id="signupForm" class="stack">
                        <strong>New account</strong>
                        <div class="form-grid">
                            <div class="input-group">
                                <label for="signupName">Full name</label>
                                <input type="text" id="signupName" name="fullName" placeholder="Jordan Cruz" required>
                            </div>
                            <div class="input-group">
                                <label for="signupEmail">Email</label>
                                <input type="email" id="signupEmail" name="email" placeholder="you@email.com" required>
                            </div>
                            <div class="input-group">
                                <label for="signupPhone">Phone</label>
                                <input type="tel" id="signupPhone" name="phone" placeholder="(555) 111-2222">
                            </div>
                            <div class="input-group">
                                <label for="signupCity">City</label>
                                <input type="text" id="signupCity" name="city" placeholder="Austin, TX">
                            </div>
                            <div class="input-group">
                                <label for="signupRadius">Pickup radius (mi)</label>
                                <input type="number" id="signupRadius" name="radius" min="1" max="50" value="10">
                            </div>
                            <div class="input-group">
                                <label for="signupPassword">Password</label>
                                <input type="password" id="signupPassword" name="password" placeholder="••••••" required>
                            </div>
                            <div class="input-group">
                                <label for="linkDuringSignup">Link payout/app</label>
                                <select id="linkDuringSignup" name="linkAccount">
                                    <option value="none">Link later</option>
                                    <option value="Google Pay">Google Pay</option>
                                    <option value="PayPal">PayPal</option>
                                    <option value="Cash App">Cash App</option>
                                    <option value="Bank Transfer">Bank Transfer</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn btn-primary" type="submit">Create free account</button>
                    </form>

                    <form id="signinForm" class="stack">
                        <strong>Already onboard?</strong>
                        <div class="form-grid">
                            <div class="input-group">
                                <label for="signinEmail">Email</label>
                                <input type="email" id="signinEmail" name="email" placeholder="demo@locallink.app">
                            </div>
                            <div class="input-group">
                                <label for="signinPassword">Password</label>
                                <input type="password" id="signinPassword" name="password" placeholder="••••••">
                            </div>
                        </div>
                        <button class="btn btn-secondary" type="submit">Sign in</button>
                    </form>
                </div>

                <div id="accountSummary" class="stack" style="display:none; gap:1.25rem;">
                    <div class="panel-header">
                        <div>
                            <h2 id="accountName">Your account</h2>
                            <p id="accountCity" style="margin:0; color:var(--text-muted);">City · radius</p>
                        </div>
                        <button class="btn btn-ghost" id="logoutBtn">Sign out</button>
                    </div>
                    <div class="form-grid">
                        <div>
                            <label>Trust score</label>
                            <div style="font-size:2rem;" id="trustScore">0</div>
                            <small id="trustTier">Starter</small>
                        </div>
                        <div>
                            <label>Points</label>
                            <div style="font-size:2rem;" id="accountPoints">0 pts</div>
                            <small id="feedbackSummary">No feedback yet</small>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Linked accounts</label>
                        <div id="linkedAccounts" class="info-pills"></div>
                        <div style="display:flex; gap:0.5rem; margin-top:0.75rem;">
                            <select id="linkAccountSelect">
                                <option value="none">Add payout/app</option>
                                <option value="Google Pay">Google Pay</option>
                                <option value="PayPal">PayPal</option>
                                <option value="Cash App">Cash App</option>
                                <option value="Bank Transfer">Bank Transfer</option>
                            </select>
                            <button class="btn btn-secondary" type="button" id="linkAccountBtn">Link</button>
                        </div>
                    </div>
                </div>
            </section>

            <section class="panel" id="securePanel">
                <div class="panel-header">
                    <h2>Secure trade center</h2>
                    <span class="tag">Buyer + seller safety</span>
                </div>
                <div class="stack">
                    <label class="toggle">
                        <input type="checkbox" id="twoFactorToggle">
                        <span>Two-factor authentication</span>
                    </label>
                    <label class="toggle">
                        <input type="checkbox" id="escrowToggle">
                        <span>Escrow wallet ready</span>
                    </label>
                    <div class="secure-list">
                        <div class="secure-item">
                            <button class="btn btn-secondary" type="button" id="verifyIdentityBtn">Verify ID</button>
                            <span id="idVerifiedBadge" class="tag">ID pending</span>
                        </div>
                        <div class="secure-item" style="flex-direction:column;align-items:flex-start;">
                            <button class="btn btn-secondary" type="button" id="generatePickupCodeBtn">Generate pickup PIN</button>
                            <small id="pickupCodeDisplay" class="input-note">Share only with confirmed buyers.</small>
                        </div>
                        <div class="secure-item" style="flex-direction:column;align-items:flex-start;">
                            <button class="btn btn-secondary" type="button" id="requestEscrowBtn">Request escrow review</button>
                            <small class="input-note">Escrow team replies within 10 minutes.</small>
                        </div>
                    </div>
                    <ul class="timeline" id="securityTimeline"></ul>
                </div>
            </section>

            <section class="panel span-2">
                <div class="panel-header">
                    <h2>List an item</h2>
                    <span class="tag">Local / online / hybrid</span>
                </div>
                <form id="listItemForm" class="stack">
                    <div class="form-grid">
                        <div class="input-group">
                            <label for="listingTitle">Title</label>
                            <input type="text" id="listingTitle" name="title" placeholder="Ex: iPad Air 64GB" required>
                        </div>
                        <div class="input-group">
                            <label for="listingCategory">Category</label>
                            <select id="listingCategory" name="category">
                                <option>Electronics</option>
                                <option>Home & Decor</option>
                                <option>Fashion</option>
                                <option>Collectibles</option>
                                <option>Furniture</option>
                                <option>Other</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="listingCondition">Condition</label>
                            <select id="listingCondition" name="condition">
                                <option>New</option>
                                <option>Excellent</option>
                                <option>Good</option>
                                <option>Fair</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="listingPrice">Price (USD)</label>
                            <input type="number" id="listingPrice" name="price" min="1" step="1" placeholder="100" required>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Delivery scope</label>
                        <div id="scopeSelector" class="radio-group">
                            <span class="radio-pill active" data-scope="local">Local only</span>
                            <span class="radio-pill" data-scope="online">Online only</span>
                            <span class="radio-pill" data-scope="hybrid">Local + Shipping</span>
                        </div>
                        <input type="hidden" id="listingScope" value="local">
                    </div>
                    <div class="form-grid">
                        <div class="input-group">
                            <label for="listingCity">Pickup city</label>
                            <input type="text" id="listingCity" name="city" placeholder="Austin, TX">
                        </div>
                        <div class="input-group">
                            <label for="listingRadius">Pickup radius (mi)</label>
                            <input type="number" id="listingRadius" name="radius" min="1" max="100" value="5">
                        </div>
                        <div class="input-group">
                            <label for="listingShipping">Shipping method</label>
                            <select id="listingShipping" name="shipping">
                                <option>UPS Ground</option>
                                <option>USPS Priority</option>
                                <option>FedEx Express</option>
                                <option>Local Courier</option>
                            </select>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="listingDescription">Description</label>
                        <textarea id="listingDescription" name="description" placeholder="Notes buyers should know..."></textarea>
                    </div>
                    <button class="btn btn-primary" type="submit">Publish listing</button>
                </form>
            </section>

            <section class="panel span-3" id="marketSection">
                <div class="panel-header">
                    <h2>Marketplace board</h2>
                    <span class="tag">Local / online filters</span>
                </div>
                <div class="stack" style="gap:1rem;">
                    <div id="marketFilters" class="hero-actions" style="flex-wrap:wrap;">
                        <button class="btn btn-secondary active" data-filter="all" type="button">All</button>
                        <button class="btn btn-secondary" data-filter="local" type="button">Local only</button>
                        <button class="btn btn-secondary" data-filter="online" type="button">Online only</button>
                        <button class="btn btn-secondary" data-filter="hybrid" type="button">Local + Shipping</button>
                    </div>
                    <input type="search" id="searchListings" placeholder="Search by title, city, category...">
                    <div id="listingGrid" class="listing-grid"></div>
                </div>
            </section>

            <section class="panel span-2">
                <div class="panel-header">
                    <h2>Feedback & loyalty</h2>
                    <span class="tag">Boost your rank</span>
                </div>
                <div id="feedbackList" class="stack"></div>
            </section>

            <section class="panel span-3">
                <div class="panel-header">
                    <h2>Trade activity</h2>
                    <span class="tag">Live audit log</span>
                </div>
                <ul class="timeline" id="activityTimeline"></ul>
            </section>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/dexie@3.2.4/dist/dexie.min.js"></script>
    <script src="scripts/db.js"></script>
    <script src="scripts/ai.js"></script>
    <script src="scripts/notify.js"></script>
    <script src="scripts/medications.js"></script>
    <script src="scripts/ui.js"></script>
    <script src="scripts/app.js"></script>
</body>
</html>
